<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8" />
    <title>Admin | í”„ë¡œì íŠ¸ ëª©ë¡</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="Backend Developer portfolio admin page - project list" />
    <meta name="author" content="Hong Jisoo" />

    <!-- í¬íŠ¸í´ë¦¬ì˜¤ì™€ ê°™ì€ í°íŠ¸ / ë©”ì¸ CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
            href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap"
            rel="stylesheet"
    />
    <link rel="stylesheet" crossorigin href="/assets/index-DS7I41Nk.css" />

    <!-- Bootstrap (í…Œì´ë¸”/ë²„íŠ¼ìš©) -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
    />

    <!-- form í˜ì´ì§€ì™€ ë™ì¼ í†¤ìœ¼ë¡œ ë§ì¶˜ ê´€ë¦¬ì ìŠ¤íƒ€ì¼ -->
    <style>
        body {
    margin: 0;
    font-family: "IBM Plex Sans", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    color: #111827;
}

/* âœ… ë‘ í˜ì´ì§€ ê³µí†µ ë ˆì´ì•„ì›ƒ */
.admin-shell {
    max-width: 1120px;      /* ë‘ í˜ì´ì§€ ëª¨ë‘ ê°™ì€ ê°’ìœ¼ë¡œ í†µì¼ */
    margin: 0 auto;
    padding: 72px 24px 80px;
}

/* âœ… ê³µí†µ í—¤ë” */
.admin-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 32px;
    min-height: 64px;       /* í—¤ë” ë†’ì´ ìµœì†Œ 64pxë¡œ ê³ ì • â†’ ëœ ì¶œë ì„ */
}

.admin-nav-title {
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: #047857;
}

.admin-nav-sub {
    font-size: 13px;
    color: #6b7280;
    margin-top: 4px;
}

.admin-nav-links {
    display: flex;
    align-items: center;
    white-space: nowrap;    /* ë§í¬ë“¤ì´ ì¤„ë°”ê¿ˆ ë˜ì§€ ì•Šê²Œ */
}

.admin-nav-links a {
    font-size: 14px;
    margin-left: 16px;
    text-decoration: none;
    color: #4b5563;
    padding-bottom: 4px;
    border-bottom: 2px solid transparent;
}

.admin-nav-links a:hover {
    color: #111827;
    border-bottom-color: #d1d5db;
}

.admin-nav-links a.active {
    color: #111827;
    border-bottom-color: #16a34a;
    font-weight: 600;
}


        /* ë©”ì¸ ì¹´ë“œ (í¼ì´ë‘ ë™ì¼í•œ í° ì¹´ë“œ) */
        .admin-card {
            border-radius: 18px;
            background: #ffffff;
            box-shadow: 0 18px 45px rgba(15, 23, 42, 0.08);
            border: 1px solid #e5e7eb;
            padding: 28px 28px 32px;
        }

        .admin-page-title {
            font-size: 24px;
            font-weight: 700;
            color: #111827;
            margin-bottom: 6px;
        }

        .admin-page-sub {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .btn-pf-primary {
            background-color: #16a34a;
            border-color: #16a34a;
            border-radius: 999px;
            padding-inline: 18px;
        }

        .btn-pf-primary:hover {
            background-color: #15803d;
            border-color: #15803d;
        }

        .pf-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            background: #ecfeff;
            border: 1px solid #22c55e;
            color: #166534;
        }
    </style>
</head>

<body>

<!-- ğŸ” ê³µí†µ ë„¤ë¹„ fragment ì‚¬ìš©  -->
<div th:replace="~{fragments/header :: header('projects')}"></div>

<div class="admin-shell">

    <!-- ë©”ì¸ ì¹´ë“œ -->
    <main class="admin-card">

        <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
                <h1 class="admin-page-title mb-0">í”„ë¡œì íŠ¸ ëª©ë¡</h1>
                <p class="admin-page-sub mb-0">
                    í¬íŠ¸í´ë¦¬ì˜¤ ë©”ì¸ì— ë…¸ì¶œí•  í”„ë¡œì íŠ¸ë“¤ì„ í•œëˆˆì— ê´€ë¦¬í•©ë‹ˆë‹¤.
                </p>
            </div>
            <a th:href="@{/admin/projects/new}" class="btn btn-sm btn-pf-primary text-white">
                + ìƒˆ í”„ë¡œì íŠ¸
            </a>
        </div>

        <div class="table-responsive mt-2">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                <tr>
                    <th style="width: 6%">#</th>
                    <th style="width: 32%">ì œëª©</th>
                    <th>ê¸°ìˆ  ìŠ¤íƒ</th>
                    <th style="width: 18%" class="text-center">ê´€ë¦¬</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="project, stat : ${projects}">
                    <td th:text="${stat.count}">1</td>

                    <td>
                        <div class="fw-semibold" th:text="${project.title}">
                            í¬íŠ¸í´ë¦¬ì˜¤ CMS ê°œë°œ
                        </div>
                        <div class="small text-muted mt-1" th:text="${project.contribution}">
                            ë°±ì—”ë“œ API ì„¤ê³„ ë° êµ¬í˜„
                        </div>
                    </td>

                    <td>
                        <span class="pf-badge">Stack</span>
                        <span class="ms-2" th:text="${project.techStack}">
                            Spring Boot, JPA, H2
                        </span>
                    </td>

                    <td class="text-center">
                        <a th:href="@{/admin/projects/{id}/edit(id=${project.id})}"
                           class="btn btn-outline-secondary btn-sm me-1">
                            ìˆ˜ì •
                        </a>

                        <form th:action="@{/admin/projects/{id}/delete(id=${project.id})}"
                              method="post"
                              class="d-inline">
                            <button type="submit"
                                    class="btn btn-outline-danger btn-sm"
                                    onclick="return confirm('ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                                ì‚­ì œ
                            </button>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

    </main>
</div>

<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
></script>
</body>
</html>
