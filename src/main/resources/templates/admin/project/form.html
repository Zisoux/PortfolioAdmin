<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${projectForm.id == null ? 'ìƒˆ í”„ë¡œì íŠ¸ ë“±ë¡' : 'í”„ë¡œì íŠ¸ ìˆ˜ì •'}">
        í”„ë¡œì íŠ¸ í¼
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <meta name="description" content="í¬íŠ¸í´ë¦¬ì˜¤ì— ë…¸ì¶œí•  í”„ë¡œì íŠ¸ë¥¼ ë“±ë¡/ìˆ˜ì •í•˜ëŠ” ê´€ë¦¬ì í˜ì´ì§€ì…ë‹ˆë‹¤."/>
    <meta name="author" content="Hong Jisoo"/>

    <!-- í¬íŠ¸í´ë¦¬ì˜¤ì™€ ê°™ì€ í°íŠ¸ / ë©”ì¸ CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap"
            rel="stylesheet"
    />
    <link rel="stylesheet" crossorigin href="/assets/index-DS7I41Nk.css"/>

    <!-- Bootstrap 5 (í¼ ì»´í¬ë„ŒíŠ¸ìš©) -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
    />

    <!-- Adminìš© ë¼ì´íŠ¸ í†¤ ìŠ¤íƒ€ì¼ -->
    <style>
        body {
    margin: 0;
    font-family: "IBM Plex Sans", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    color: #111827;
}

/* âœ… ë‘ í˜ì´ì§€ ê³µí†µ ë ˆì´ì•„ì›ƒ */
.admin-shell {
    max-width: 1120px;      /* ë‘ í˜ì´ì§€ ëª¨ë‘ ê°™ì€ ê°’ìœ¼ë¡œ í†µì¼ */
    margin: 0 auto;
    padding: 72px 24px 80px;
}

/* âœ… ê³µí†µ í—¤ë” */
.admin-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 32px;
    min-height: 64px;       /* í—¤ë” ë†’ì´ ìµœì†Œ 64pxë¡œ ê³ ì • â†’ ëœ ì¶œë ì„ */
}

.admin-nav-title {
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: #047857;
}

.admin-nav-sub {
    font-size: 13px;
    color: #6b7280;
    margin-top: 4px;
}

.admin-nav-links {
    display: flex;
    align-items: center;
    white-space: nowrap;    /* ë§í¬ë“¤ì´ ì¤„ë°”ê¿ˆ ë˜ì§€ ì•Šê²Œ */
}

.admin-nav-links a {
    font-size: 14px;
    margin-left: 16px;
    text-decoration: none;
    color: #4b5563;
    padding-bottom: 4px;
    border-bottom: 2px solid transparent;
}

.admin-nav-links a:hover {
    color: #111827;
    border-bottom-color: #d1d5db;
}

.admin-nav-links a.active {
    color: #111827;
    border-bottom-color: #16a34a;
    font-weight: 600;
}


        /* ë©”ì¸ ì¹´ë“œ (í•˜ì–€ ì¹´ë“œ) */
        .admin-card {
            border-radius: 18px;
            background: #ffffff;
            box-shadow: 0 18px 45px rgba(15, 23, 42, 0.08);
            border: 1px solid #e5e7eb;
            padding: 28px 28px 32px;
        }

        .admin-page-title {
            font-size: 24px;
            font-weight: 700;
            color: #111827;
            margin-bottom: 6px;
        }

        .admin-page-sub {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 20px;
        }

        /* í¼ ìš”ì†Œë“¤ */
        .admin-card .form-label {
            font-size: 13px;
            font-weight: 500;
            color: #374151;
        }

        .admin-card .form-control,
        .admin-card textarea.form-control {
            font-size: 14px;
        }

        /* ë²„íŠ¼ ì»¬ëŸ¬: ì´ˆë¡(primary) */
        .btn-pf-primary {
            background-color: #16a34a;
            border-color: #16a34a;
        }

        .btn-pf-primary:hover {
            background-color: #15803d;
            border-color: #15803d;
        }

        .btn-pf-secondary {
            border-radius: 999px;
        }

        .btn-pf-primary,
        .btn-pf-secondary {
            border-radius: 999px;
            padding-inline: 20px;
        }
    </style>
</head>

<body>

<div th:replace="~{fragments/header :: header('projects')}"></div>

<div class="admin-shell">

    <!-- ë©”ì¸ ì¹´ë“œ -->
    <main class="admin-card">

        <div class="mb-3">
            <h1 class="admin-page-title"
                th:text="${projectForm.id} == null ? 'ìƒˆ í”„ë¡œì íŠ¸ ë“±ë¡' : 'í”„ë¡œì íŠ¸ ìˆ˜ì •'">
                ìƒˆ í”„ë¡œì íŠ¸ ë“±ë¡
            </h1>
            <p class="admin-page-sub">
                í¬íŠ¸í´ë¦¬ì˜¤ì— ë³´ì—¬ì¤„ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ì •ë³´ë“¤ì„ ì •ë¦¬í•˜ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.
            </p>
        </div>

        <!-- âœ… th:object ë¥¼ projectForm ìœ¼ë¡œ ë³€ê²½ -->
        <form th:object="${projectForm}"
              th:action="${projectForm.id} == null
                    ? @{/admin/projects/new}
                    : @{/admin/projects/{id}/edit(id=${projectForm.id})}"
              method="post"
              enctype="multipart/form-data">

            <!-- ID (ìˆ˜ì • ì‹œ hidden) -->
            <input type="hidden" th:field="*{id}" />

            <!-- ì œëª© -->
            <div class="mb-3">
                <label for="title" class="form-label">ì œëª©</label>
                <input type="text"
                       id="title"
                       th:field="*{title}"
                       class="form-control"
                       placeholder="ì˜ˆ) UniLife â€“ ëŒ€í•™ìƒ ì¼ì • & í•™ì  ê´€ë¦¬ ì›¹ì•±"
                       required />
                <!-- ğŸ”´ ì œëª© ì—ëŸ¬ -->
                <div class="text-danger small mt-1"
                     th:if="${#fields.hasErrors('title')}"
                     th:errors="*{title}">
                    ì œëª© ì—ëŸ¬
                </div>
            </div>

            <!-- ì„¤ëª… -->
            <div class="mb-3">
                <label for="description" class="form-label">ì„¤ëª…</label>
                <textarea id="description"
                          th:field="*{description}"
                          class="form-control"
                          rows="4"
                          placeholder="í”„ë¡œì íŠ¸ ëª©ì , ì£¼ìš” ê¸°ëŠ¥, í•´ê²°í•œ ë¬¸ì œ ë“±ì„ ì ì–´ì£¼ì„¸ìš”."
                          required></textarea>
                <!-- ğŸ”´ ì„¤ëª… ì—ëŸ¬ -->
                <div class="text-danger small mt-1"
                     th:if="${#fields.hasErrors('description')}"
                     th:errors="*{description}">
                    ì„¤ëª… ì—ëŸ¬
                </div>
            </div>

            <!-- ê¸°ìˆ  ìŠ¤íƒ -->
            <div class="mb-3">
                <label for="techStack" class="form-label">ê¸°ìˆ  ìŠ¤íƒ</label>
                <input type="text"
                       id="techStack"
                       th:field="*{techStack}"
                       class="form-control"
                       placeholder="ì˜ˆ) Spring Boot, JPA, MySQL, Thymeleaf" />
                <div class="text-danger small mt-1"
                     th:if="${#fields.hasErrors('techStack')}"
                     th:errors="*{techStack}">
                    ê¸°ìˆ  ìŠ¤íƒ ì—ëŸ¬
                </div>
            </div>

            <!-- ê¸°ì—¬ ë‚´ìš© -->
            <div class="mb-3">
                <label for="contribution" class="form-label">ê¸°ì—¬ ë‚´ìš©</label>
                <input type="text"
                       id="contribution"
                       th:field="*{contribution}"
                       class="form-control"
                       placeholder="ì˜ˆ) ë°±ì—”ë“œ API ì„¤ê³„ ë° êµ¬í˜„, DB ëª¨ë¸ë§" />
                <div class="text-danger small mt-1"
                     th:if="${#fields.hasErrors('contribution')}"
                     th:errors="*{contribution}">
                    ê¸°ì—¬ ë‚´ìš© ì—ëŸ¬
                </div>
            </div>

            <div class="row">
                <!-- ì‹œì‘ì¼ -->
                <div class="col-md-6 mb-3">
                    <label for="startDate" class="form-label">ì‹œì‘ì¼</label>
                    <input type="text"
                           id="startDate"
                           th:field="*{startDate}"
                           class="form-control"
                           placeholder="ì˜ˆ) 2025-03" />
                    <div class="text-danger small mt-1"
                         th:if="${#fields.hasErrors('startDate')}"
                         th:errors="*{startDate}">
                        ì‹œì‘ì¼ ì—ëŸ¬
                    </div>
                </div>

                <!-- ì¢…ë£Œì¼ -->
                <div class="col-md-6 mb-3">
                    <label for="endDate" class="form-label">ì¢…ë£Œì¼</label>
                    <input type="text"
                           id="endDate"
                           th:field="*{endDate}"
                           class="form-control"
                           placeholder="ì˜ˆ) 2025-06 (ì§„í–‰ ì¤‘ì´ë©´ 'ì§„í–‰ ì¤‘')" />
                    <div class="text-danger small mt-1"
                         th:if="${#fields.hasErrors('endDate')}"
                         th:errors="*{endDate}">
                        ì¢…ë£Œì¼ ì—ëŸ¬
                    </div>
                </div>
            </div>

            <!-- í”„ë¡œì íŠ¸ URL -->
            <div class="mb-4">
                <label for="projectUrl" class="form-label">í”„ë¡œì íŠ¸ URL (Github / ë°°í¬ ë§í¬)</label>
                <input type="text"
                       id="projectUrl"
                       th:field="*{projectUrl}"
                       class="form-control"
                       placeholder="ì˜ˆ) https://github.com/hongjisu/UniLife" />
                <div class="text-danger small mt-1"
                     th:if="${#fields.hasErrors('projectUrl')}"
                     th:errors="*{projectUrl}">
                    URL ì—ëŸ¬
                </div>
            </div>

            <!-- ğŸ”¹ íŒŒì¼ ì—…ë¡œë“œ í•„ë“œ -->
            <div class="mb-4">
                <label for="imageFile" class="form-label">í”„ë¡œì íŠ¸ ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
                <input type="file"
                       id="imageFile"
                       name="imageFile"
                       class="form-control"
                       accept="image/*">
                <div class="form-text">
                    ì´ë¯¸ì§€ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´ /pf-uploads/ ê²½ë¡œë¡œ ì €ì¥ë˜ê³ , ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œì— ì‚¬ìš©ë©ë‹ˆë‹¤.
                </div>
            </div>

            <!-- ë²„íŠ¼ ì˜ì—­ -->
            <div class="d-flex justify-content-between">
                <a th:href="@{/admin/projects}" class="btn btn-outline-secondary btn-pf-secondary">
                    ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </a>

                <button type="submit"
                        class="btn btn-pf-primary text-white"
                        th:text="${projectForm.id} == null ? 'ì €ì¥' : 'ìˆ˜ì •'">
                    ì €ì¥
                </button>
            </div>

        </form>
    </main>
</div>

<!-- Bootstrap JS -->
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
></script>
</body>
</html>
